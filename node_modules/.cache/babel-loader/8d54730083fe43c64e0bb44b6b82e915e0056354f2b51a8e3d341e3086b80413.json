{"ast":null,"code":"//1.导入createSlice //7.导入createAsyncThun创建异步方法\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n//8.导入mock的network\nimport { userInfoFetchData } from \"./mockUserInfoFetchData\";\n\n//2.创建reducer\nconst userInfoSlice = createSlice({\n  //3.此name会被拼接到Action的type中的第二个位置\n  name: \"userInfo\",\n  //4.初始化数据\n  initialState: {\n    userInfo: {},\n    count: 0,\n    status: \"pending\"\n  },\n  //5.声明Action方法\n  reducers: {\n    addCount: (state, actions) => {\n      state.count += 1;\n      console.log(\"count+1:\", state.count);\n    },\n    subCount: state => {\n      state.count -= 1;\n      console.log(\"count-1:\", state.count);\n    }\n  },\n  //10.声明刚才创建的异步methods\n  extraReducers: build => {\n    build.addCase(fetchData.pending, state => {\n      state.status = \"pending\";\n      console.log(state.status);\n    });\n    build.addCase(fetchData.fulfilled, (state, actions) => {\n      state.status = \"fulfilled\";\n      state.userInfo = actions.payload;\n      console.log('network数据如下：', actions.payload);\n    });\n  }\n});\n//9.createAsyncThunk创建异步Thunk\nexport const fetchData = createAsyncThunk(\"userInfo\", async () => {\n  return await userInfoFetchData();\n});\n\n//6.导出Store对应的Action方法（在组件中调用）和reducer（在store中注册）\nexport const {\n  addCount,\n  subCount\n} = userInfoSlice.actions;\nexport default userInfoSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","userInfoFetchData","userInfoSlice","name","initialState","userInfo","count","status","reducers","addCount","state","actions","console","log","subCount","extraReducers","build","addCase","fetchData","pending","fulfilled","payload","reducer"],"sources":["D:/Ceshi/music/src/store/modules/userslice.js"],"sourcesContent":["//1.导入createSlice //7.导入createAsyncThun创建异步方法\r\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n//8.导入mock的network\r\nimport { userInfoFetchData } from \"./mockUserInfoFetchData\";\r\n\r\n//2.创建reducer\r\nconst userInfoSlice = createSlice({\r\n  //3.此name会被拼接到Action的type中的第二个位置\r\n  name: \"userInfo\",\r\n  //4.初始化数据\r\n  initialState: {\r\n    userInfo: {},\r\n    count: 0,\r\n    status: \"pending\",\r\n  },\r\n //5.声明Action方法\r\n  reducers: {\r\n    addCount: (state, actions) => {\r\n      state.count += 1;\r\n      console.log(\"count+1:\",state.count);\r\n    },\r\n    subCount: (state) => {\r\n      state.count -= 1;\r\n      console.log(\"count-1:\",state.count);\r\n    },\r\n  },\r\n  //10.声明刚才创建的异步methods\r\n  extraReducers: (build) => {\r\n    build.addCase(fetchData.pending, (state) => {\r\n      state.status = \"pending\";\r\n      console.log(state.status);\r\n    });\r\n    build.addCase(fetchData.fulfilled, (state, actions) => {\r\n      state.status = \"fulfilled\";\r\n      state.userInfo = actions.payload;\r\n      console.log('network数据如下：',actions.payload);\r\n    });\r\n  },\r\n});\r\n//9.createAsyncThunk创建异步Thunk\r\nexport const fetchData = createAsyncThunk(\"userInfo\", async () => {\r\n  return await userInfoFetchData();\r\n});\r\n\r\n//6.导出Store对应的Action方法（在组件中调用）和reducer（在store中注册）\r\nexport const { addCount, subCount } = userInfoSlice.actions;\r\nexport default userInfoSlice.reducer;\r\n\r\n"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;;AAEhE;AACA,SAASC,iBAAiB,QAAQ,yBAAyB;;AAE3D;AACA,MAAMC,aAAa,GAAGH,WAAW,CAAC;EAChC;EACAI,IAAI,EAAE,UAAU;EAChB;EACAC,YAAY,EAAE;IACZC,QAAQ,EAAE,CAAC,CAAC;IACZC,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE;EACV,CAAC;EACF;EACCC,QAAQ,EAAE;IACRC,QAAQ,EAAEA,CAACC,KAAK,EAAEC,OAAO,KAAK;MAC5BD,KAAK,CAACJ,KAAK,IAAI,CAAC;MAChBM,OAAO,CAACC,GAAG,CAAC,UAAU,EAACH,KAAK,CAACJ,KAAK,CAAC;IACrC,CAAC;IACDQ,QAAQ,EAAGJ,KAAK,IAAK;MACnBA,KAAK,CAACJ,KAAK,IAAI,CAAC;MAChBM,OAAO,CAACC,GAAG,CAAC,UAAU,EAACH,KAAK,CAACJ,KAAK,CAAC;IACrC;EACF,CAAC;EACD;EACAS,aAAa,EAAGC,KAAK,IAAK;IACxBA,KAAK,CAACC,OAAO,CAACC,SAAS,CAACC,OAAO,EAAGT,KAAK,IAAK;MAC1CA,KAAK,CAACH,MAAM,GAAG,SAAS;MACxBK,OAAO,CAACC,GAAG,CAACH,KAAK,CAACH,MAAM,CAAC;IAC3B,CAAC,CAAC;IACFS,KAAK,CAACC,OAAO,CAACC,SAAS,CAACE,SAAS,EAAE,CAACV,KAAK,EAAEC,OAAO,KAAK;MACrDD,KAAK,CAACH,MAAM,GAAG,WAAW;MAC1BG,KAAK,CAACL,QAAQ,GAAGM,OAAO,CAACU,OAAO;MAChCT,OAAO,CAACC,GAAG,CAAC,cAAc,EAACF,OAAO,CAACU,OAAO,CAAC;IAC7C,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AACF;AACA,OAAO,MAAMH,SAAS,GAAGlB,gBAAgB,CAAC,UAAU,EAAE,YAAY;EAChE,OAAO,MAAMC,iBAAiB,CAAC,CAAC;AAClC,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAEQ,QAAQ;EAAEK;AAAS,CAAC,GAAGZ,aAAa,CAACS,OAAO;AAC3D,eAAeT,aAAa,CAACoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}